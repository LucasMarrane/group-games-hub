import{c as $,r as t,j as e,m,A as S,B as d}from"./index-CTDs4bRA.js";import{M as R,U as z,I as V,a as M,X as q}from"./Home-j1PCE9Cf.js";import{C as J,I as O}from"./game.multiplayer-CQKVkTsd.js";import{C as W}from"./check-ZFgB2nLQ.js";import{R as X}from"./rotate-ccw-BBSprXgg.js";const F=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],H=$("pause",F);const K=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Q=$("timer",K),Z={1:{name:"Pessoa/Animal/Lugar",color:"bg-blue-500",icon:"üë§"},2:{name:"Objeto",color:"bg-green-500",icon:"üì¶"},3:{name:"A√ß√£o/Verbo",color:"bg-yellow-500",icon:"üèÉ"},4:{name:"Dif√≠cil",color:"bg-red-500",icon:"üî•"},5:{name:"Lazer",color:"bg-purple-500",icon:"üéÆ"},6:{name:"Mix",color:"bg-pink-500",icon:"üé≤"}},P=[{name:"Time 1",score:0,color:"hsl(160 70% 45%)"},{name:"Time 2",score:0,color:"hsl(280 75% 60%)"}];function re(){const[h,N]=t.useState("setup"),[c,g]=t.useState(P),[x,v]=t.useState(0),[r,A]=t.useState(60),[n,u]=t.useState(60),[j,f]=t.useState(!1),[l,y]=t.useState(null),[C,b]=t.useState(new Set),w=R.themes.flatMap(s=>s.items.map(a=>({id:a.id,word:a.title,category:a.category,points:a.value}))),i=t.useCallback(()=>{const s=w.filter(o=>!C.has(o.id));if(s.length===0){b(new Set);return}const a=s[Math.floor(Math.random()*s.length)];y(a),b(o=>new Set([...o,a.id]))},[w,C]),L=t.useCallback(()=>{l&&g(s=>s.map((a,o)=>o===x?{...a,score:a.score+l.points}:a)),i()},[l,x,i]),_=t.useCallback(()=>{i()},[i]),D=t.useCallback(()=>{c.every(s=>s.name.trim())&&(N("playing"),u(r),i())},[c,r,i]),E=t.useCallback(()=>{f(s=>!s)},[]),k=t.useCallback(()=>{u(r),f(!1),y(null)},[r]),G=t.useCallback(()=>{v(s=>(s+1)%c.length),k(),i()},[c.length,k,i]),U=t.useCallback(()=>{N("setup"),g(P),v(0),u(r),f(!1),y(null),b(new Set)},[r]);t.useEffect(()=>{let s;return j&&n>0?s=setInterval(()=>{u(a=>a-1)},1e3):n===0&&f(!1),()=>clearInterval(s)},[j,n]);const T=c[x],p=l?Z[l.category]:null;return e.jsxs(J,{game:R,className:"text-gradient-mimica",icon:e.jsx(O,{variant:"mimica"}),onStart:()=>{},children:[e.jsx("div",{className:"flex gap-2",children:c.map((s,a)=>e.jsx(m.div,{layout:!0,className:`flex-1 p-3 rounded-xl border transition-all ${h==="playing"&&a===x?"border-secondary shadow-glow-mimica":"border-border"}`,style:{background:h==="playing"&&a===x?`${s.color}20`:void 0},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:s.name}),e.jsx("div",{className:"text-2xl font-display font-bold",style:{color:s.color},children:s.score})]})},a))}),e.jsxs(S,{mode:"wait",children:[h==="setup"&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"bg-card rounded-2xl p-6 border border-border space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Configurar Times"})]}),c.map((s,a)=>e.jsx(V,{placeholder:`Nome do Time ${a+1}`,value:s.name,onChange:o=>g(Y=>Y.map((I,B)=>B===a?{...I,name:o.target.value}:I)),className:"bg-muted border-border"},a)),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground pt-4 border-t border-border",children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Tempo por Rodada"})]}),e.jsx("div",{className:"flex gap-2",children:[30,45,60,90].map(s=>e.jsxs(d,{variant:r===s?"mimica":"glass",size:"sm",onClick:()=>{A(s),u(s)},className:"flex-1",children:[s,"s"]},s))})]}),e.jsxs(d,{variant:"mimica",size:"xl",className:"w-full",onClick:D,children:[e.jsx(M,{className:"w-5 h-5"}),"Come√ßar Jogo"]})]}),h==="playing"&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex-1 flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-card rounded-2xl p-4 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Vez de:"," ",e.jsx("span",{className:"font-bold",style:{color:T.color},children:T.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m.span,{initial:{scale:1.2},animate:{scale:1},className:`text-3xl font-display font-bold ${n<=10?"text-destructive":"text-foreground"}`,children:[n,"s"]},n),e.jsx(d,{variant:"glass",size:"icon",onClick:E,disabled:n===0,children:j?e.jsx(H,{className:"w-5 h-5"}):e.jsx(M,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"mt-3 h-2 rounded-full bg-muted overflow-hidden",children:e.jsx(m.div,{className:"h-full gradient-mimica",initial:{width:"100%"},animate:{width:`${n/r*100}%`},transition:{duration:.3}})})]}),e.jsx(S,{mode:"wait",children:l&&e.jsxs(m.div,{initial:{scale:.8,opacity:0,rotateY:90},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.8,opacity:0,rotateY:-90},className:"flex-1 bg-card rounded-2xl p-6 border border-border flex flex-col items-center justify-center gap-4",children:[p&&e.jsxs("div",{className:`px-4 py-2 rounded-full ${p.color} text-white text-sm font-medium flex items-center gap-2`,children:[e.jsx("span",{children:p.icon}),e.jsx("span",{children:p.name})]}),e.jsx("h2",{className:"text-4xl font-display font-bold text-center text-foreground",children:l.word}),e.jsxs("div",{className:"flex items-center gap-2 text-secondary",children:[e.jsxs("span",{className:"text-2xl font-bold",children:["+",l.points]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"pontos"})]})]},l.id)}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(d,{variant:"destructive",size:"xl",className:"flex-1",onClick:_,children:[e.jsx(q,{className:"w-6 h-6"}),"Passou"]}),e.jsxs(d,{variant:"mimica",size:"xl",className:"flex-1",onClick:L,children:[e.jsx(W,{className:"w-6 h-6"}),"Acertou!"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"glass",className:"flex-1",onClick:G,children:[e.jsx(z,{className:"w-4 h-4"}),"Pr√≥ximo Time"]}),e.jsxs(d,{variant:"glass",className:"flex-1",onClick:U,children:[e.jsx(X,{className:"w-4 h-4"}),"Reiniciar"]})]})]})]})]})}export{re as Mimica,re as default};
